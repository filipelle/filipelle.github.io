<!DOCTYPE html>
<html lang="en">

<head>
	<meta name="viewport" content="width=device-width, initial-scale=1,minimum-scale=1">
	<meta charset="UTF-8">
	<link rel="" href="main.js">

	<script src="scripts/jquery.min.js"></script>
	<script src="scripts/popper.min.js"></script>
	<script src="bootstrap-4.0.0/bootstrap-4.0.0/dist/js/bootstrap.min.js"></script>

	<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
	<link rel="stylesheet" href="styles.css">
	<title>Digitalize Now</title>
	<link rel="icon" type="image/x-icon" href="images/favicon.ico">
</head>

<body style="background: white !important;">

	<header>

		<div class="bg-absolute bg-primary" style="filter: brightness(1);"></div>
		<nav class="navbar navbar-expand-lg navbar-dark" id="navbar">
			<a class="navbar-brand" href="index.html">
				<img src="images/logo.png" alt="company logo" class="logo">
			</a>
			<button id="nav-toggler" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarNavAltMarkup">
				<div class="navbar-nav">
					<a class="nav-item nav-link active" href="">Contattaci <span class="sr-only">(current)</span></a>
					<a class="nav-item nav-link " href="chisiamo.html">Chi siamo</a>
				</div>
			</div>
		</nav>
		<div class="d-flex flex-column align-items-center justify-content-center" style="height: 500px;">

			<h1 class="caption"><strong>Richiedi ora una consulenza gratuita!</strong></h1>
			<h2 style="text-align: center;" class="sub-caption">Siamo felici di rispondere alle tue domande.</h2>
			<ul class="check-list" style="font-size: 1.3rem;">
				<li> Scopri come aumentare la visibilità.</li>
				<li> Ottieni informazioni sui prezzi</li>
				<li> Esplora i casi d’uso per il tuo business</li>
			</ul>
			<br>


		</div>
	</header>

	<div class="contact-form" style="min-width: 250px;">
		<h2>Contatta il nostro team</h2>
		<form action="test" style="display:grid; gap: 15px;" id="myForm">
			<label for="nome">Nome*:</label>
			<input type="text" style="margin-bottom: 15px;" class="form-control" name="nome" required>
			<label for="cognome">Cognome*:</label>
			<input type="text" style="margin-bottom: 15px;" class="form-control" name="cognome" required>
			<label for="email">Email*:</label>
			<input type="email" style="margin-bottom: 15px;" class="form-control" name="email" required>
			<label for="motivo">Descrizione:</label>
			<textarea name="motivo" style="margin-bottom: 15px;" class="form-control" id="motivo" cols="30" rows="5"></textarea>
			<div class="d-flex flex-column">
				<div class="d-flex justify-content-center"><input type="checkbox" name="privacy" id="privacy">
					<label style="margin-left: 5px;" for="privacy">Accetto La Privacy Policy</label>
				</div>
				<a style="width: 50px !important;margin: auto !important;" href="https://www.iubenda.com/privacy-policy/40327393" class="iubenda-white iubenda-noiframe iubenda-embed iubenda-noiframe " title="Privacy Policy ">Privacy Policy</a>
				<script type="text/javascript">
					(function(w, d) {
						var loader = function() {
							var s = d.createElement("script"),
								tag = d.getElementsByTagName("script")[0];
							s.src = "https://cdn.iubenda.com/iubenda.js";
							tag.parentNode.insertBefore(s, tag);
						};
						if (w.addEventListener) {
							w.addEventListener("load", loader, false);
						} else if (w.attachEvent) {
							w.attachEvent("onload", loader);
						} else {
							w.onload = loader;
						}
					})(window, document);
				</script>
			</div>
			<input id="form-submit" type="submit" class="btn btn-primary" value="Contattaci ora">
		</form>
		<p id="outcome" class="mt-1 "></p>
		<canvas class="confetti" id="canvas"></canvas>
	</div>
	<br>
	<br>
	<br>
	<br>
	<footer style="background: white; color: black; ">
		<div class="d-flex justify-content-between align-items-center footer-container">
			<div style="display: grid;justify-items: center;">
				<p>IL MARKETING PER TE</p>
				<img src="images/logo.png" alt="company logo" width="300px">
				<p> </p>

			</div>
			<div>

				<nav style="width: 100%;">
					<div class="navbar-footer" style="color: black !important; font-size: 1rem; display: grid; gap:15px">
						<a href="index.html">Home</a>
						<a href="contatti.html">Contattaci</a>
						<a href="chisiamo.html">Chi siamo</a>
					</div>
				</nav>
				<br>
				<div>
					<a href="facebook.com"><i class="fa-brands fa-facebook" style="font-size:1.5rem;"></i></a>
					<a href="instagram.com"><i class="fa-brands fa-instagram" style="font-size:1.5rem;"></i></a>
					<a href="instagram.com"><i class="fa-brands fa-linkedin" style="font-size:1.5rem;"></i></i></a>

					<a href="mailto:"><i class="fa-solid fa-envelope" style="font-size:1.5rem;"></i></a>

				</div>
			</div>
		</div>
	</footer>


	<script>
		$('#myForm').submit(function(e) {
			$('#form-submit').prop("disabled", true);
			$('#form-submit').css("transform", "none")
			$('#form-submit').css("cursor", "wait")
			e.preventDefault();

			var post = $.post('/contattaci', {
				data: $('#myForm').serialize()
			});
			post.done(function(data) {
					$("#outcome").empty().text("Grazie, verrai ricontattato il prima possibile");
					$("#outcome").addClass("success");
					initConfetti();
					render();
				})
				.fail(() => {
					$("#outcome").addClass("error")
					$("#outcome").empty().text("Ops, qualcosa è andato storto, riprova tra qualche minuto");
				}).always(() => {
					$('#form-submit').prop("disabled", false);
					$('#form-submit').css("transform", "scale(1.2)")
					$('#form-submit').css("cursor", "pointer")
				})

		});
	</script>

	<script>
		window.onload = () => {
			var toggler = document.getElementById("nav-toggler");
			var el = document.getElementById("navbarNavAltMarkup");
			var navbar = document.getElementById("navbar");
			if (document.body.clientWidth < 450) {
				toggler.classList.remove("collapsed");
				toggler.ariaExpanded = true;
				el.classList.add("show")
				toggler.style.display = "none";
				navbar.classList.add("justify-content-center");
			}
		}
		window.onresize = (e) => {
			var toggler = document.getElementById("nav-toggler");
			var el = document.getElementById("navbarNavAltMarkup");

			if (document.body.clientWidth < 450) {
				toggler.classList.remove("collapsed");
				toggler.ariaExpanded = true;
				el.classList.add("show");
				toggler.style.display = "none";
				navbar.classList.add("justify-content-center");
			} else if (document.body.clientWidth < (992 - 17) && document.body.clientWidth > 265) {
				navbar.classList.remove("justify-content-center");
				toggler.style.display = "inline-block";
			} else {
				toggler.style.display = "none";
				toggler.classList.remove("collapsed");
				toggler.ariaExpanded = true;
				el.classList.add("show");
				navbar.classList.remove("justify-content-center");
			}
		}
	</script>
	<script>
		//-----------Var Inits--------------
		canvas = document.getElementById("canvas");
		ctx = canvas.getContext("2d");
		canvas.width = window.innerWidth;
		canvas.height = window.innerHeight;
		cx = ctx.canvas.width / 2;
		cy = ctx.canvas.height / 2;

		let confetti = [];
		const confettiCount = 300;
		const gravity = 0.8;
		const terminalVelocity = 5;
		const drag = 0.070;
		const colors = [{
				front: 'red',
				back: 'darkred'
			},
			{
				front: 'green',
				back: 'darkgreen'
			},
			{
				front: 'blue',
				back: 'darkblue'
			},
			{
				front: 'yellow',
				back: 'darkyellow'
			},
			{
				front: 'orange',
				back: 'darkorange'
			},
			{
				front: 'pink',
				back: 'darkpink'
			},
			{
				front: 'purple',
				back: 'darkpurple'
			},
			{
				front: 'turquoise',
				back: 'darkturquoise'
			}
		];


		//-----------Functions--------------
		resizeCanvas = () => {
			canvas.width = window.innerWidth;
			canvas.height = window.innerHeight;
			cx = ctx.canvas.width / 2;
			cy = ctx.canvas.height / 2;
		};

		randomRange = (min, max) => Math.random() * (max - min) + min;

		initConfetti = () => {
			for (let i = 0; i < confettiCount; i++) {
				confetti.push({
					color: colors[Math.floor(randomRange(0, colors.length))],
					dimensions: {
						x: randomRange(10, 20),
						y: randomRange(10, 30)
					},
					position: {
						x: randomRange(0, canvas.width),
						y: canvas.height - 1
					},
					rotation: randomRange(0, 2 * Math.PI),
					scale: {
						x: 1,
						y: 1
					},
					velocity: {
						x: randomRange(-25, 25),
						y: randomRange(0, -50)
					}
				});
			}
		};
		//---------Render----------- 
		render = () => {
			ctx.clearRect(0, 0, canvas.width, canvas.height);

			confetti.forEach((confetto, index) => {
				let width = confetto.dimensions.x * confetto.scale.x;
				let height = confetto.dimensions.y * confetto.scale.y;

				// Move canvas to position and rotate
				ctx.translate(confetto.position.x, confetto.position.y);
				ctx.rotate(confetto.rotation);

				// Apply forces to velocity
				confetto.velocity.x -= confetto.velocity.x * drag;
				confetto.velocity.y = Math.min(confetto.velocity.y + gravity, terminalVelocity);
				confetto.velocity.x += Math.random() > 0.5 ? Math.random() : -Math.random();

				// Set position
				confetto.position.x += confetto.velocity.x;
				confetto.position.y += confetto.velocity.y;

				// Delete confetti when out of frame
				if (confetto.position.y >= canvas.height) confetti.splice(index, 1);

				// Loop confetto x position
				if (confetto.position.x > canvas.width) confetto.position.x = 0;
				if (confetto.position.x < 0)
					confetto.position.x = canvas.width;
				// Spin confetto by scaling y 
				confetto.scale.y = Math.cos(confetto.position.y * 0.1);
				ctx.fillStyle = confetto.scale.y > 0 ? confetto.color.front : confetto.color.back;

				// Draw confetti
				ctx.fillRect(-width / 2, -height / 2, width, height);

				// Reset transform matrix
				ctx.setTransform(1, 0, 0, 1, 0, 0);
			});

			// Fire off another round of confetti
			
			window.requestAnimationFrame(render);
		};
		//---------Execution-------- 
		
		//----------Resize---------- 
		window.addEventListener('resize', function() {
			resizeCanvas();
		});
		
		
	</script>
</body>